"use strict";var _classes=_interopRequireDefault(require("/modules/classes.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}localStorage.notebooks||(localStorage.notebooks="");var PATH=window.location.pathname,CREATE="/pages/new-note.html",HOME="/index.html",newnoteInput=document.getElementById("inp-create"),noNotes=document.getElementById("no-notes"),notesList=document.getElementById("notes-list"),btnCreate=document.getElementById("btn-create"),btnCreateHome=document.getElementById("btn-create-home"),btnDeleteAll=document.getElementById("btn-delete-all"),notes=notesArr().join();function clearStorage(){localStorage.clear(),localStorage.notebooks=""}function addNoteOnClick(e){if(newnoteInput.value){var t=new _classes.default(newnoteInput.value);localStorage.notebooks?localStorage.notebooks=localStorage.notebooks+",".concat(t.name):localStorage.notebooks=t.name}else alert("Notebook name can't be empty!"),e.preventDefault()}function notesArr(){return localStorage.notebooks.split(",")}function addNoteOnEnter(e){"btn-create"!=e.target.id&&13!=e.keyCode||btnCreate.click()}function addNoteOnShiftN(e){"KeyN"==e.code&&e.shiftKey&&btnCreateHome.click()}function updateNotesList(){notesArr().forEach(function(e,t){var n=document.createElement("div");n.className="note",n.textContent=e,notesList.appendChild(n)})}document.getElementsByTagName("main")[0].style.opacity="1",PATH!=HOME&&"/"!=PATH||(updateNotesList(),notes?(noNotes.style.display="none",notesList.style.display="grid"):(noNotes.style.display="flex",notesList.style.display="none",btnCreateHome.style.display="none",btnDeleteAll.style.display="none"),btnDeleteAll.addEventListener("click",clearStorage),document.addEventListener("keydown",addNoteOnShiftN)),PATH==CREATE&&(btnCreate.addEventListener("click",addNoteOnClick),newnoteInput.addEventListener("keypress",addNoteOnEnter));